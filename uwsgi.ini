[uwsgi]
# Django项目配置
module = wechat_survey.wsgi:application
django-project-dir = /app

# 进程和线程配置
master = true
workers = 4
threads = 2

# 套接字配置 - 使用unix socket或tcp socket
# 如果使用nginx，建议使用unix socket
# socket = /tmp/wechat_survey.sock
# 如果需要直接访问uwsgi，使用tcp socket
socket = 0.0.0.0:8000

# 权限配置
chmod-socket = 666
vacuum = true

# 日志配置
disable-logging = false
logto = /var/log/uwsgi/wechat_survey.log
logdate = true

# 静态文件配置 - 可以让uwsgi处理静态文件，或由nginx处理
# static-map = /static=/app/static

# 环境变量
env = DJANGO_SETTINGS_MODULE=wechat_survey.production_settings

# 其他配置
buffer-size = 32768
harakiri = 60
harakiri-verbose = true
max-requests = 5000
max-requests-delta = 30

# 自动重载 - 仅用于开发环境
# py-autoreload = 1
